<div class="signup-container">
  <div class="left-panel">
    <div class="content">
      <h1>Continuous Forms</h1>
      <p>Transformez vos documents en formulaires interactifs en un clic !</p>
      <button class="info-button">En savoir plus</button>
    </div>
    <div class="background-circles"></div>
  </div>

  <div class="right-panel">
    <div class="form-container">
      <h2>Bienvenue!</h2>
      <p class="subtitle">Inscrivez-vous pour commencer</p>

      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        <!-- Username Field -->
        <div class="form-group">
          <div class="input-icon">
            <i class="user-icon"></i>
            <input type="text" formControlName="username" placeholder="Nom d'utilisateur"
              [ngClass]="{'invalid': signupForm.get('username')?.invalid && signupForm.get('username')?.touched}">
            <div class="error-message" *ngIf="signupForm.get('username')?.invalid && signupForm.get('username')?.touched">
              Nom d'utilisateur requis
            </div>
          </div>
        </div>

        <!-- Email Field -->
        <div class="form-group">
          <div class="input-icon">
            <i class="email-icon"></i>
            <input type="email" formControlName="email" placeholder="Adresse Email"
              [ngClass]="{'invalid': signupForm.get('email')?.invalid && signupForm.get('email')?.touched}">
            <div class="error-message" *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
              Email invalide
            </div>
          </div>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <div class="input-icon">
            <i class="lock-icon"></i>
            <input type="password" formControlName="password" placeholder="Mot de passe"
              [ngClass]="{'invalid': signupForm.get('password')?.invalid && signupForm.get('password')?.touched}">
            <div class="error-message" *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
              Mot de passe requis (8 caractères minimum)
            </div>
          </div>
        </div>

        <!-- Role Selection -->
        <div class="form-group role-container">
          <div class="role-selection">
            <label>Rôle :</label>
            <div class="radio-options">
              <label class="radio-label">
                <input type="radio" formControlName="role" name="role" value="user">
                <span class="radio-text">User</span>
              </label>
              <label class="radio-label">
                <input type="radio" formControlName="role" name="role" value="admin">
                <span class="radio-text">Admin</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Admin Code Field, visible only if admin is selected -->
        <div class="form-group admin-code" *ngIf="signupForm.get('role')?.value === 'admin'">
          <div class="input-icon">
            <i class="lock-icon"></i>
            <input type="text" formControlName="adminCode" placeholder="Code Administrateur"
              [ngClass]="{'invalid': signupForm.get('adminCode')?.invalid && signupForm.get('adminCode')?.touched}">
            <div class="error-message" *ngIf="signupForm.get('adminCode')?.invalid && signupForm.get('adminCode')?.touched">
              Code administrateur requis
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="signup-button" [disabled]="signupForm.invalid">
          <span>S'inscrire</span>
          <i class="arrow-icon"></i>
        </button>
      </form>

      <div class="login-link">
        Vous avez déjà un compte? <a [routerLink]="['/login']">Connectez-vous</a>
      </div>
    </div>
  </div>
</div>
