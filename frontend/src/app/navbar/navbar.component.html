<header class="navbar">
  <!-- Overlay only for profile menu -->
  <div class="overlay" *ngIf="isOverlayActive" (click)="toggleSidebarIfExpanded()" aria-hidden="true"></div>

  <div class="navbar-container">
    <!-- Logo Section with Toggle Button -->
    <div class="navbar-logo-section">
      <button class="navbar-toggle-button" (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <i class="pi pi-bars"></i>
      </button>
      <a routerLink="/" class="navbar-logo">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="40" height="40" rx="10" fill="#3b82f6"/>
          <path d="M20 12L28 20L20 28L12 20L20 12Z" fill="white"/>
        </svg>
        <span class="navbar-logo-text">CorpApp</span>
      </a>
    </div>

    <!-- Navigation -->
    <nav class="navbar-menu">
      <a *ngFor="let item of filteredMenuItems" [routerLink]="item.routerLink" class="navbar-menu-item">
        <i [class]="item.icon"></i>
        <span>{{ item.label }}</span>
      </a>
    </nav>

    <!-- Actions (Right Side) -->
    <div class="navbar-actions">
      <button class="navbar-action-button" (click)="onNotificationClick()" aria-label="Notifications">
        <i class="pi pi-bell"></i>
      </button>
      <button class="navbar-action-button" (click)="onAnnouncementClick()" aria-label="Announcements">
        <i class="pi pi-megaphone"></i>
      </button>
      <button class="navbar-action-button" (click)="toggleTheme()" aria-label="Toggle theme">
        <i class="pi" [class]="(themeService.isDarkMode$ | async) ? 'pi-sun' : 'pi-moon'"></i>
      </button>
      <div class="navbar-profile">
        <button class="navbar-action-button" (click)="toggleProfileMenu()" aria-label="Profile menu">
          <i class="pi pi-user"></i>
        </button>
        <div class="profile-menu" *ngIf="isProfileMenuOpen">
          <a routerLink="/profile" class="profile-menu-item" (click)="isProfileMenuOpen = false">Profile</a>
          <a routerLink="/settings" class="profile-menu-item" (click)="isProfileMenuOpen = false">Settings</a>
          <a (click)="logout()" class="profile-menu-item">Logout</a>
        </div>
      </div>
    </div>
  </div>
</header>
